!function(a,b){"function"==typeof define&&define.amd?define(["jquery"],b):"object"==typeof exports?module.exports=b(require("jquery")):b(a.jQuery,a)}(this,function(a,b){"use strict";var c,d,e=(window,document),f=navigator.userAgent;/msie|trident/i.test(f)&&(d=f.match(/(?:msie |rv:)(\d+(\.\d+)?)/i),c=d&&d.length>1&&d[1]||"");var g=function(a,b,c){a[b+c]=function(b){c.call(a,b)},a.attachEvent("on"+b,a[b+c])},h=function(a,b,c){a.detachEvent("on"+b,a[b+c])},i=function(b,d){null==d?d={}:"function"==typeof d&&(d={onresizeheight:d});var f=b.value;b.value="",b.value=f;var i,j;9>c&&(i=function(){b.scrollTop=0},g(b,"scroll",i),j=b.value,b.value="aa",b.value=j,e.execCommand("Undo"),e.execCommand("Undo"),e.execCommand("Undo"),e.execCommand("Undo"));var k,l=!0,m=function(){if(b.value!==f||l){f=b.value;var e=b.style.height;b.style.height="";var g=function(){var c=b.scrollHeight;d.maxHeight&&c>d.maxHeight?(b.style.height=d.maxHeight+"px",b.style.overflowY="auto",b.detachEvent&&h(b,"scroll",i)):b.style.height=c+"px";var e=parseFloat(b.style.height);k!==e&&(k=e,a&&a.fn&&a(b).trigger("autoresize:height",e),d.onresizeheight&&d.onresizeheight.call(b,e))};9>c?(setTimeout(g,0),b.style.height=e):g()}};if(b.addEventListener&&(!c||c>9))b.addEventListener("input",m,!1);else{var n=function(a){"value"===a.propertyName&&m()};g(b,"propertychange",n);var o=function(a){"focus"===a.type?g(e,"selectionchange",m):h(e,"selectionchange",m)};g(b,"focus",o),g(b,"blur",o),g(b,"keyup",m)}return m(),l=!1,{reset:function(){b.style.height="",b.removeEventListener&&(!c||c>9)?b.removeEventListener("input",m,!1):(b.style.overflowY="",h(b,"propertychange",n),h(e,"selectionchange",m),h(b,"focus",o),h(b,"blur",o),h(b,"keyup",m),h(b,"scroll",i))}}};return a&&a.fn?a.fn.autoResize=function(b){var c=[];return this.each(function(a,d){c.push(i(d,b))}),{reset:function(){a.each(c,function(a,b){b.reset()})}}}:b&&(b.autoResize=i),i});